(function(t){function e(e){for(var a,c,i=e[0],s=e[1],u=e[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={class:"app-header"},o=Object(a["f"])("h1",{class:"app__title"},[Object(a["f"])("strong",null,"Salat"),Object(a["e"])("Time")],-1),c={class:"app-content"};function i(t,e,n,i,s,u){var l=Object(a["u"])("current-time"),d=Object(a["u"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["f"])("header",r,[o,Object(a["f"])(l)]),Object(a["f"])("section",c,[Object(a["f"])(d)])],64)}var s={class:"current-time"},u={class:"clock"},l=Object(a["f"])("span",{class:"clock__ticker"}," : ",-1);function d(t,e,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",s,[Object(a["f"])("span",u,[Object(a["e"])(Object(a["w"])(t.hour),1),l,Object(a["e"])(Object(a["w"])(t.minute),1)])])}var f=n("b166"),b=1e3,p=Object(a["g"])({name:"current-time",setup:function(){var t=Object(a["s"])(new Date);return Object(a["n"])((function(){setInterval((function(){t.value=new Date}),b)})),{dateObj:t,hour:Object(a["b"])((function(){return Object(f["a"])(t.value,"HH")})),minute:Object(a["b"])((function(){return Object(f["a"])(t.value,"mm")}))}}});p.render=d;var O=p,j={components:{"current-time":O}};j.render=i;var v=j,m=n("9483");Object(m["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var g=n("6c02"),y={class:"salat-next"},h={class:"salat-today"};function P(t,e,n,r,o,c){var i=Object(a["u"])("loading-cue"),s=Object(a["u"])("notification"),u=Object(a["u"])("salat"),l=Object(a["u"])("current-location"),d=Object(a["u"])("current-day"),f=Object(a["u"])("salat-list");return t.isLoading?(Object(a["p"])(),Object(a["d"])(i,{key:0,"loading-text":t.appPhase},null,8,["loading-text"])):(Object(a["p"])(),Object(a["d"])(a["a"],{key:1},[t.isError?(Object(a["p"])(),Object(a["d"])(s,{key:0,"notification-message":t.appError},null,8,["notification-message"])):(Object(a["p"])(),Object(a["d"])(a["a"],{key:1},[Object(a["f"])("div",y,[Object(a["f"])(u,{salat:t.nextSalat,"disp-type":"next"},null,8,["salat"]),Object(a["f"])(l,{location:t.location},null,8,["location"])]),Object(a["f"])("div",h,[Object(a["f"])(d),Object(a["f"])(f,{"salat-list":t.todaySalat},null,8,["salat-list"])])],64))],64))}var S=n("5530"),A=n("5502"),w={class:"current-day"};function E(t,e,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",w,Object(a["w"])(t.day)+" "+Object(a["w"])(t.date)+" "+Object(a["w"])(t.month)+" "+Object(a["w"])(t.year),1)}var T=6e4,_=Object(a["g"])({name:"current-day",setup:function(){var t=Object(a["s"])(new Date);return Object(a["n"])((function(){setInterval((function(){t.value=new Date}),T)})),{date:Object(a["b"])((function(){return Object(f["a"])(t.value,"dd")})),dateObj:t,day:Object(a["b"])((function(){return Object(f["a"])(t.value,"EEEE")})),month:Object(a["b"])((function(){return Object(f["a"])(t.value,"MMMM")})),year:Object(a["b"])((function(){return Object(f["a"])(t.value,"yyyy")}))}}});_.render=E;var D=_,x={class:"loading-cue"};function k(t,e,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",x,Object(a["w"])(t.loadingText),1)}var L=Object(a["g"])({props:["loadingText"]});L.render=k;var N=L,U={class:"location"};function M(t,e,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",U,[Object(a["f"])("div",null,Object(a["w"])(t.area),1),Object(a["f"])("div",null,Object(a["w"])(t.country),1)])}n("a15b");var R=Object(a["g"])({props:{location:{type:Object,required:!0}},setup:function(t){var e=Object(a["b"])((function(){var e=[];return t.location.city?e.push(t.location.city):t.location.village&&e.push(t.location.village),t.location.state&&e.push(t.location.state),e.join(", ")}));return{area:e,country:Object(a["b"])((function(){return t.location.country}))}}});R.render=M;var z=R,H={class:"notification"};function I(t,e,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",H,Object(a["w"])(t.notificationMessage),1)}var F=Object(a["g"])({props:["notificationMessage"]});F.render=I;var q=F;n("b0c0");function C(t,e,n,r,o,c){var i=Object(a["u"])("time-display");return Object(a["p"])(),Object(a["d"])("div",{class:["salat",t.className("salat--")]},[Object(a["f"])("div",{class:["salat__name",t.className("salat__name--")]},Object(a["w"])(t.salat.name),3),Object(a["f"])("div",{class:["salat__time",t.className("salat__time--")]},[Object(a["f"])(i,{time:t.salat.time},null,8,["time"])],2)],2)}var G={class:"time-display"};function X(t,e,n,r,o,c){return Object(a["p"])(),Object(a["d"])("div",G,Object(a["w"])(t.time),1)}var Y=Object(a["g"])({props:["time"]});Y.render=X;var J=Y,$=Object(a["g"])({components:{"time-display":J},props:{salat:{type:Object},dispType:{type:String}},setup:function(t){return{salat:t.salat,className:function(e){return t.dispType?e+t.dispType:""}}}});$.render=C;var B=$,K={class:"salat-items"},Q={class:"salat-item"};function V(t,e,n,r,o,c){var i=Object(a["u"])("salat");return Object(a["p"])(),Object(a["d"])("ul",K,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["t"])(t.salatList,(function(t){return Object(a["p"])(),Object(a["d"])("li",Q,[Object(a["f"])(i,{salat:t},null,8,["salat"])])})),256))])}var W=Object(a["g"])({components:{salat:B},props:["salatList"]});W.render=V;var Z=W,tt=6e5,et=Object(a["g"])({name:"day",components:{"current-day":D,"current-location":z,"loading-cue":N,notification:q,salat:B,"salat-list":Z},computed:Object(S["a"])({},Object(A["b"])({appError:"appError",appPhase:"appPhase",isError:"isError",isLoading:"isLoading",location:"location",nextSalat:"nextSalat",todaySalat:"todaySalat"})),created:function(){var t=this;this.$store.dispatch("initializeState"),setInterval((function(){t.$store.dispatch("loadSalat")}),tt)}});et.render=P;var nt=et,at=[{path:"*",name:"Day",component:nt}],rt=Object(g["a"])({history:Object(g["b"])(""),routes:at}),ot=rt,ct=n("c458"),it=n.n(ct),st=n("1816"),ut=n.n(st),lt=(n("d3b7"),{locate:function(){return new Promise((function(t,e){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(t,e,{enableHighAccuracy:!0}):e(Error("Geolocation not available"))}))}}),dt=lt,ft={};function bt(t){if(t.status>=200&&t.status<300||t.ok)return t;var e=new Error(t.statusText);throw e.response=t,e}ft.get=function(t,e){return fetch(t,e).then(bt).then((function(t){return t.json()})).catch((function(t){throw t}))};var pt=ft;function Ot(t){var e={};return e.country=t.country_name,e.city=t.city,e.village=t.district,e.state=t.region,e.timezone=t.timezone_name,e.latitude=parseFloat(t.latitude),e.longitude=parseFloat(t.longitude),e}function jt(t){var e={};return e.country=t.address.country,t.address.state_district?e.city=t.address.state_district:e.city=t.address.city,e.village=t.address.village,e.state=t.address.state,e.latitude=parseFloat(t.lat),e.longitude=parseFloat(t.lon),e}var vt={transformIPLocationResponse:Ot,transformReverseGeolocationResponse:jt},mt=vt,gt={};function yt(){return"https://json.geoiplookup.io/"}function ht(t){var e="https://nominatim.openstreetmap.org/reverse?format=json&zoom=15&addressdetails=1",n=new ut.a(e,!0),a=n.query;return a.lat=t.latitude,a.lon=t.longitude,n.set("query",a),n.href}gt.get=function(){return dt.locate().then((function(t){var e=ht(t.coords);return pt.get(e).then((function(t){var e=mt.transformReverseGeolocationResponse(t),n=it.a.determine();return e.timezone=n.name(),e}))}),(function(){var t=yt();return pt.get(t).then((function(t){return mt.transformIPLocationResponse(t)}))}))};var Pt=gt,St=(n("25f0"),n("3ca3"),n("ddb0"),n("f7f1")),At=(n("d81d"),n("b64b"),n("1276"),n("ac1f"),n("99af"),n("7db0"),n("2cf3")),wt=n("1212"),Et={};function Tt(t,e){var n=Object.keys(t).map((function(n){var a=t[n].split(":").join(" : ");return{name:n,date:e,time:a}}));return n}function _t(t){var e=Object(At["a"])("".concat(t.date," ").concat(t.time),"d MMM yyyy HH : mm",new Date);return!!Object(wt["a"])(e,new Date)}function Dt(t){var e={};return Object.assign(e,t),delete e.Sunrise,delete e.Sunset,delete e.Imsak,delete e.Midnight,e}Et.transformSalatData=function(t){var e=Dt(t.timings);return Tt(e,t.date.readable)},Et.getNextSalat=function(t,e){var n=Et.transformSalatData(t),a=Et.transformSalatData(e);return n.concat(a).find(_t)};var xt=Et,kt={};function Lt(t,e){var n="https://api.aladhan.com/timings/",a=new ut.a(n,!0),r=a.query;return a.pathname=[a.pathname,e].join(""),r.latitude=t.latitude.toString(),r.longitude=t.longitude.toString(),r.timezonestring=t.timezone,r.method="3",a.set("query",r),a.href}kt.get=function(t){var e=Lt(t,Object(f["a"])(new Date,"t")),n=Lt(t,Object(f["a"])(Object(St["a"])(new Date,1),"t"));return Promise.all([pt.get(e),pt.get(n)]).then((function(t){var e=xt.transformSalatData(t[0].data),n=xt.getNextSalat(t[0].data,t[1].data);return{todaySalat:e,nextSalat:n}}))};var Nt=kt;function Ut(t){var e=t.commit;Pt.get().then((function(t){return e("UPDATE_APPPHASE","locating"),e("UPDATE_LOCATION",t),t})).then((function(t){return e("UPDATE_APPPHASE","loading salat"),Nt.get({latitude:t.latitude,longitude:t.longitude,timezone:t.timezone})})).then((function(t){e("UPDATE_TODAYSALAT",t.todaySalat),e("UPDATE_NEXTSALAT",t.nextSalat),e("UPDATE_APPPHASE","standby")})).catch((function(t){if("Failed to fetch"===t.message){var n=new Error("Network error, please check your connection and disable adblock");e("UPDATE_APPPHASE","network error"),e("UPDATE_APPERROR",n)}console.error(t)}))}function Mt(t){var e=t.commit,n=t.state;Nt.get(n.location).then((function(t){e("UPDATE_TODAYSALAT",t.todaySalat),e("UPDATE_NEXTSALAT",t.nextSalat)}))}var Rt,zt={initializeState:Ut,loadSalat:Mt},Ht=zt,It=function(t){var e=t.appPhase;return"loading salat"===e||"locating"===e},Ft=function(t){var e=t.appPhase;return e.indexOf("error")>-1},qt=function(t){return t.appPhase},Ct=function(t){return t.appError},Gt=function(t){return t.location},Xt=function(t){return t.todaySalat},Yt=function(t){return t.nextSalat},Jt={isLoading:It,isError:Ft,appPhase:qt,appError:Ct,location:Gt,todaySalat:Xt,nextSalat:Yt},$t=Jt,Bt=n("ade3"),Kt="UPDATE_LOCATION",Qt="UPDATE_APPPHASE",Vt="UPDATE_APPERROR",Wt="UPDATE_TODAYSALAT",Zt="UPDATE_NEXTSALAT",te=(Rt={},Object(Bt["a"])(Rt,Qt,(function(t,e){t.appPhase=e})),Object(Bt["a"])(Rt,Vt,(function(t,e){t.appError=e})),Object(Bt["a"])(Rt,Kt,(function(t,e){t.location=e})),Object(Bt["a"])(Rt,Wt,(function(t,e){t.todaySalat=e})),Object(Bt["a"])(Rt,Zt,(function(t,e){t.nextSalat=e})),Rt),ee=te,ne=Object(A["a"])({actions:Ht,getters:$t,mutations:ee,state:{appPhase:"locating",appError:{},location:{country:"",city:"",time_zone:"",latitude:0,longitude:0},todaySalat:[{name:"",date:"",time:""}],nextSalat:{name:"",date:"",time:""}}});n("ce87");Object(a["c"])(v).use(ne).use(ot).mount("#app")},ce87:function(t,e,n){}});
//# sourceMappingURL=app.aa41ed6c.js.map